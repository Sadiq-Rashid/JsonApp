<!Doctype Html>
<head>
    <title></title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<h1> JSON and AJAX</h1>
<button id="btn">Fetch Infor for three new animals</button>
<div id="animal-info"></div>
<script>
    var pageCounter=1;
    var animalContainer = document.getElementById("animal-info")
    var btn = document.getElementById("btn");
    btn.addEventListener("click", function(){
    var xhttp = new XMLHttpRequest();
    xhttp.open('Get', 'http://rest.learncode.academy/api/learncode/friends');
    xhttp.onload = function(){
    var ourData = JSON.parse(xhttp.responseText);
    renderHTML(ourData);
    };
    xhttp.onerror = function(){
        console.log("Connection error");
    };
    xhttp.send();
    pageCounter++;
    if(pageCounter > 3){
        btn.classList.add("hide-me");
    }
    });

    function renderHTML(data){
        var HtmlString = "";

        for( i= 0; i<data.length; i++)
        {
            HtmlString += "<p>" +" Name " + data[i].name + " and age is " + data[i].age + "id is  " + data[i].id + '.</p>';
                     
        }

        animalContainer.insertAdjacentHTML('beforeend',HtmlString);
    }

</script>
</body>
</htnl>